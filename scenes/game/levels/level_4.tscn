[gd_scene load_steps=10 format=3 uid="uid://dgix28rx75oke"]

[ext_resource type="Script" path="res://scenes/game/levels/level_controller.gd" id="1_2i6d7"]
[ext_resource type="PackedScene" uid="uid://4nsy5ttwkk8o" path="res://scenes/game/characters/player/player.tscn" id="2_5bhoi"]
[ext_resource type="Resource" uid="uid://dovs56t8nh0eh" path="res://assets/resources/spells/summon_skeletons.tres" id="3_i2nsj"]
[ext_resource type="Resource" uid="uid://cl00i5pr4hwiy" path="res://assets/resources/spells/reclaim.tres" id="4_vrsga"]
[ext_resource type="Resource" uid="uid://is0b6s0b1gen" path="res://assets/resources/spells/fuse.tres" id="5_82fjx"]
[ext_resource type="TileSet" uid="uid://defs1a6w50rio" path="res://assets/resources/tilesets/terain_tileset.tres" id="6_l1r3a"]

[sub_resource type="Gradient" id="Gradient_8a4vu"]
colors = PackedColorArray(0.621094, 0.621094, 0.621094, 1, 1, 1, 1, 1)

[sub_resource type="FastNoiseLite" id="FastNoiseLite_fkviw"]

[sub_resource type="NoiseTexture2D" id="NoiseTexture2D_x0jvt"]
seamless = true
color_ramp = SubResource("Gradient_8a4vu")
noise = SubResource("FastNoiseLite_fkviw")

[node name="TestLevel" type="Node2D"]
y_sort_enabled = true
script = ExtResource("1_2i6d7")

[node name="Player" parent="." instance=ExtResource("2_5bhoi")]
position = Vector2(108, 2062)
debug_mode = true
spells = Array[Resource("res://assets/resources/types/spell_type.gd")]([ExtResource("3_i2nsj"), ExtResource("4_vrsga"), ExtResource("5_82fjx")])

[node name="Polygon2D2" type="Polygon2D" parent="."]
z_index = -10
position = Vector2(-1980, 141)
color = Color(0.0784314, 0, 0.0745098, 1)
polygon = PackedVector2Array(-1350, -802, 3481, -1413, 6038, -485, 5144, 2852, 3594, 3712, -433, 3961, -909, 2626, -1293, 816)

[node name="Polygon2D" type="Polygon2D" parent="."]
z_index = -2
texture_repeat = 2
color = Color(0.541176, 0.478431, 0.356863, 1)
texture = SubResource("NoiseTexture2D_x0jvt")
polygon = PackedVector2Array(-573, 8, -275, -158, 61, -244, 398, -222, 525, -140, 716, -42, 790, 163, 811, 568, 763, 839, 564, 1148, 583, 1486, 588, 2007, 530, 2188, 384, 2350, 51, 2357, -206, 2292, -340, 2098, -395, 1790, -345, 1432, -367, 1133, -534, 780, -645, 462, -655, 127)

[node name="TileMap" type="TileMap" parent="."]
y_sort_enabled = true
tile_set = ExtResource("6_l1r3a")
format = 2
layer_0/name = "Bricks"
layer_0/z_index = -1
layer_0/tile_data = PackedInt32Array(327684, 262145, 1, 327683, 65537, 0, 327682, 196609, 1, 393218, 262145, 0, 393217, 65537, 2, 458754, 1, 2, 458755, 65537, 2, 458756, 65537, 2, 458757, 65537, 2, 458758, 131073, 2, 393222, 196609, 0, 327685, 65537, 1, 327681, 262145, 1, 327680, 1, 0, 393216, 1, 2, 393219, 65537, 1, 393220, 65537, 1, 393221, 65537, 1, 393223, 65537, 2, 393226, 65537, 2, 393227, 131073, 2, 327690, 65537, 1, 327689, 65537, 1, 327688, 65537, 1, 393224, 65537, 2, 393225, 65537, 2, 327687, 65537, 1, 327686, 65537, 1, 262153, 65537, 1, 262154, 196609, 1, 262152, 65537, 1, 262151, 65537, 1, 262150, 262145, 1, 262149, 65537, 0, 262148, 1, 0, 262155, 131073, 0, 196614, 1, 0, 196615, 65537, 0, 196616, 65537, 0, 196618, 131073, 0, 196617, 65537, 0, 327691, 131073, 1, 196605, 131073, 0, 262134, 1, 1, 262135, 65537, 1, 262136, 65537, 1, 262137, 65537, 1, 196602, 65537, 1, 196603, 196609, 1, 196604, 65537, 0, 262133, 131073, 2, 262138, 65537, 1, 262139, 65537, 1, 262140, 65537, 1, 196598, 1, 1, 196600, 65537, 1, 196599, 65537, 1, 196601, 65537, 1, 327674, 65537, 2, 327673, 65537, 2, 327672, 65537, 2, 327675, 65537, 2, 327676, 65537, 2, 327670, 1, 2, 327671, 65537, 2, 327677, 131073, 2, 262141, 131073, 1, 131065, 65537, 0, 131064, 65537, 0, 131063, 65537, 0, 131062, 1, 0, 131066, 65537, 0, 131067, 131073, 0, 65541, 131073, 2, 65540, 65537, 2, 65539, 196609, 0, 65538, 65537, 1, 65537, 65537, 1, 65536, 262145, 0, 131071, 196609, 0, 131070, 1, 1, 131073, 65537, 2, 131072, 1, 2, 131074, 65537, 2, 131075, 131073, 2, 65535, 196609, 1, 3, 65537, 1, 2, 262145, 1, 1, 65537, 0, 0, 65537, 0, 4, 65537, 1, 5, 196609, 0, 65534, 262145, 0, 65533, 1, 2, -65534, 1, 0, -65533, 65537, 0, -65532, 65537, 0, -65531, 65537, 0, 6, 131073, 2, -65530, 131073, 0, 851966, 65537, 0, 851964, 65537, 0, 851965, 65537, 0, 851963, 196609, 1, 851967, 131073, 0, 917499, 65537, 1, 917500, 65537, 1, 917497, 1, 2, 917498, 262145, 0, 917496, 131073, 2, 917501, 196609, 0, 917502, 65537, 2, 851962, 65537, 1, 851961, 1, 1, 983034, 1, 2, 983035, 65537, 2, 983036, 65537, 2, 917503, 131073, 2, 983037, 131073, 2, 786427, 131073, 0, 786426, 196609, 1, 786425, 262145, 0, 786424, 1, 2)
layer_1/name = "Grass"
layer_1/enabled = true
layer_1/modulate = Color(1, 1, 1, 1)
layer_1/y_sort_enabled = false
layer_1/y_sort_origin = 0
layer_1/z_index = 0
layer_1/tile_data = PackedInt32Array(1245182, 3, 65536, 1179646, 3, 65536, 1114110, 3, 65536, 1114109, 3, 65536, 1114108, 3, 65536, 1179644, 3, 65536, 1245180, 3, 65536, 1245181, 3, 65536, 1179645, 3, 65536, 1179643, 3, 65536, 1048572, 3, 65536, 1048571, 3, 65536, 1048570, 3, 65536, 1114106, 3, 65536, 1179642, 3, 65536, 1245179, 3, 65536, 1114112, 3, 65536, 1179647, 3, 65536, 1310725, 3, 65536, 1310724, 3, 65536, 1310723, 3, 65536, 1376259, 3, 65536, 1376260, 3, 65536, 1376261, 3, 65536, 1310726, 3, 65536, 1245190, 3, 65536, 1245189, 3, 65536, 1245188, 3, 65536, 1376262, 3, 65536, 1441790, 3, 65536, 1441789, 3, 65536, 1441788, 3, 65536, 1507324, 3, 65536, 1507325, 3, 65536, 1507326, 3, 65536, 1507327, 3, 65536, 1572860, 3, 65536, 1572861, 3, 65536, 1572862, 3, 65536, 1638396, 3, 65536, 1638397, 3, 65536, 1638395, 3, 65536, 1966078, 3, 65536, 1966079, 3, 65536, 1835008, 3, 65536, 1835009, 3, 65536, 1835010, 3, 65536, 1835011, 3, 65536, 1900547, 3, 65536, 1900546, 3, 65536, 1900545, 3, 65536, 1900544, 3, 65536, 1966080, 3, 65536, 1966081, 3, 65536, 1966082, 3, 65536, 1966083, 3, 65536, 2031616, 3, 65536, 2097151, 3, 65536, 2097150, 3, 65536, 2031617, 3, 65536, 2097152, 3, 65536, 2097153, 3, 65536, 2097154, 3, 65536, 2097155, 3, 65536, 2097156, 3, 65536, 2031618, 3, 65536, 458760, 3, 65536, 458759, 3, 65536, 524294, 3, 65536, 524295, 3, 65536, 524296, 3, 65536, 589830, 3, 65536, 589831, 3, 65536, 589832, 3, 65536, 458749, 3, 65536, 458748, 3, 65536, 458747, 3, 65536, 458746, 3, 65536, 393211, 3, 65536, 393210, 3, 65536, 393209, 3, 65536, 393208, 3, 65536, -131072, 3, 65536, -65537, 3, 65536, -65538, 3, 65536, -1, 3, 65536, -65536, 3, 65536, -65535, 3, 65536, -131071, 3, 65536, -2, 3, 65536, -3, 3, 65536, -4, 3, 65536, -196608, 3, 65536)
layer_2/name = "Walls"
layer_2/enabled = true
layer_2/modulate = Color(1, 1, 1, 1)
layer_2/y_sort_enabled = false
layer_2/y_sort_origin = 0
layer_2/z_index = 0
layer_2/tile_data = PackedInt32Array(2359292, 3, 131072, 2424829, 3, 131072, 2424830, 3, 131072, 2490366, 3, 131072, 2490367, 3, 131072, 2424832, 3, 131072, 2424833, 3, 131072, 2424834, 3, 131072, 2424835, 3, 131072, 2424836, 3, 131072, 2424828, 3, 131072, 2359291, 3, 131072, 2424827, 3, 131072, 2490363, 3, 131072, 2490364, 3, 131072, 2490365, 3, 131072, 2555903, 3, 131072, 2490368, 3, 131072, 2490369, 3, 131072, 2490370, 3, 131072, 2490371, 3, 131072, 2490372, 3, 131072, 2490373, 3, 131072, 2424837, 3, 131072, 2424838, 3, 131072, 2359302, 3, 131072, 2293766, 3, 131072, 2293767, 3, 131072, 2228231, 3, 131072, 2162696, 3, 131072, 2097161, 3, 131072, 2031625, 3, 131072, 2162697, 3, 131072, 2228232, 3, 131072, 2293768, 3, 131072, 2359303, 3, 131072, 1966089, 3, 131072, 1900553, 3, 131072, 1835017, 3, 131072, 1769481, 3, 131072, 1703945, 3, 131072, 2359293, 3, 131072, 2359290, 3, 131072, 2293754, 3, 131072, 2228217, 3, 131072, 2162681, 3, 131072, 2097144, 3, 131072, 2031608, 3, 131072, 1966072, 3, 131072, 1900536, 3, 131072, 1835000, 3, 131072, 1769464, 3, 131072, 1703928, 3, 131072, 1900537, 3, 131072, 1966073, 3, 131072, 2031609, 3, 131072, 2097146, 3, 131072, 2162682, 3, 131072, 2228219, 3, 131072, 2162683, 3, 131072, 2031610, 3, 131072, 1835001, 3, 131072, 1638392, 3, 131072, 1572856, 3, 131072, 2031624, 3, 131072, 1966088, 3, 131072, 1900552, 3, 131072, 1835016, 3, 131072, 1769480, 3, 131072, 1703944, 3, 131072, 1638409, 3, 131072, 1572873, 3, 131072, 1900539, 3, 131072, 1966075, 3, 131072, 1835003, 3, 131072, 1769467, 3, 131072, 1703931, 3, 131072, 1638395, 3, 131072, 1572859, 3, 131072, 1507323, 3, 131072, 1441787, 3, 131072, 1376251, 3, 131072, 1310716, 3, 131072, 1376252, 3, 131072, 1441788, 3, 131072, 1835002, 3, 131072, 1900538, 3, 131072, 1966074, 3, 131072, 1769465, 3, 131072, 1703929, 3, 131072, 1638393, 3, 131072, 1572857, 3, 131072, 1507321, 3, 131072, 1638410, 3, 131072, 1507337, 3, 131072, 1441800, 3, 131072, 1376264, 3, 131072, 1310727, 3, 131072, 1376263, 3, 131072, 1441799, 3, 131072, 1507335, 3, 131072, 1572871, 3, 131072, 1638408, 3, 131072, 1572872, 3, 131072, 1507336, 3, 131072, 1310728, 3, 131072, 1245192, 3, 131072, 1376265, 3, 131072, 1441801, 3, 131072, 1572874, 3, 131072, 1376250, 3, 131072, 1441786, 3, 131072, 1507322, 3, 131072, 1572858, 3, 131072, 1245191, 3, 131072, 1179655, 3, 131072, 1114120, 3, 131072, 1114121, 3, 131072, 1048585, 3, 131072, 1048586, 3, 131072, 1179656, 3, 131072, 1245179, 3, 131072, 1179642, 3, 131072, 1114106, 3, 131072, 1114105, 3, 131072, 1179641, 3, 131072, 1245178, 3, 131072, 1048569, 3, 131072, 983032, 3, 131072, 917495, 3, 131072, 851959, 3, 131072, 851958, 3, 131072, 786422, 3, 131072, 720886, 3, 131072, 655350, 3, 131072, 917496, 3, 131072, 851960, 3, 131072, 786423, 3, 131072, 720887, 3, 131072, 589814, 3, 131072, 524278, 3, 131072, 458742, 3, 131072, 393206, 3, 131072, 327670, 3, 131072, 262134, 3, 131072, 196598, 3, 131072, 131062, 3, 131072, 131063, 3, 131072, 65527, 3, 131072, 65528, 3, 131072, -8, 3, 131072, -7, 3, 131072, -65543, 3, 131072, -65542, 3, 131072, -65541, 3, 131072, -65540, 3, 131072, -65539, 3, 131072, -131074, 3, 131072, -131073, 3, 131072, -196608, 3, 131072, -196607, 3, 131072, -196606, 3, 131072, -196605, 3, 131072, -196604, 3, 131072, -196603, 3, 131072, -131066, 3, 131072, -131065, 3, 131072, -131064, 3, 131072, -131063, 3, 131072, -65527, 3, 131072, -65526, 3, 131072, 10, 3, 131072, 65546, 3, 131072, 131082, 3, 131072, 196619, 3, 131072, 262155, 3, 131072, 327692, 3, 131072, 393228, 3, 131072, 458764, 3, 131072, 524301, 3, 131072, 589837, 3, 131072, 655372, 3, 131072, 720908, 3, 131072, 786444, 3, 131072, 851980, 3, 131072, 917515, 3, 131072, 983051, 3, 131072, 917516, 3, 131072, 851981, 3, 131072, 786445, 3, 131072, 720909, 3, 131072, 655373, 3, 131072, 589838, 3, 131072, 524302, 3, 131072, 458766, 3, 131072, 393230, 3, 131072, 1114122, 3, 131072, 1179657, 3, 131072, 1245193, 3, 131072, 1310729, 3, 131072, 983050, 3, 131072, 917514, 3, 131072, 851979, 3, 131072, 786443, 3, 131072, 720907, 3, 131072, 655371, 3, 131072, 589836, 3, 131072, 524300, 3, 131072, 327693, 3, 131072, 262157, 3, 131072, 196621, 3, 131072, 131085, 3, 131072, 65549, 3, 131072, 13, 3, 131072, 262158, 3, 131072, 131084, 3, 131072, 65548, 3, 131072, 12, 3, 131072, -65524, 3, 131072, -131061, 3, 131072, -196597, 3, 131072, -262134, 3, 131072, -327670, 3, 131072, -327671, 3, 131072, -327672, 3, 131072, -393209, 3, 131072, -393210, 3, 131072, -393211, 3, 131072, -393212, 3, 131072, -393213, 3, 131072, -393214, 3, 131072, -393215, 3, 131072, -393216, 3, 131072, -327681, 3, 131072, -327682, 3, 131072, -327683, 3, 131072, -327684, 3, 131072, -327685, 3, 131072, -262149, 3, 131072, -262148, 3, 131072, -262147, 3, 131072, -262146, 3, 131072, -262145, 3, 131072, -327680, 3, 131072, -327679, 3, 131072, -327678, 3, 131072, -327677, 3, 131072, -327676, 3, 131072, -327675, 3, 131072, -327674, 3, 131072, -327673, 3, 131072, -262150, 3, 131072, -196615, 3, 131072, -196616, 3, 131072, -196617, 3, 131072, -196618, 3, 131072, -196619, 3, 131072, -131084, 3, 131072, -131083, 3, 131072, -131082, 3, 131072, -131081, 3, 131072, -131080, 3, 131072, -196614, 3, 131072, -196613, 3, 131072, -262140, 3, 131072, -262139, 3, 131072, -262138, 3, 131072, -262137, 3, 131072, -262136, 3, 131072, -262135, 3, 131072, -262141, 3, 131072, -262142, 3, 131072, -262143, 3, 131072, -262144, 3, 131072, -196609, 3, 131072, -196610, 3, 131072, -196611, 3, 131072, -196612, 3, 131072, -131078, 3, 131072, -131079, 3, 131072, -65546, 3, 131072, -65547, 3, 131072, -11, 3, 131072, 65525, 3, 131072, 131061, 3, 131072, 196596, 3, 131072, 131060, 3, 131072, 65524, 3, 131072, 262132, 3, 131072, 327668, 3, 131072, 393204, 3, 131072, 458740, 3, 131072, 262133, 3, 131072, 196597, 3, 131072, 65526, 3, 131072, -10, 3, 131072, -65545, 3, 131072, -9, 3, 131072, 327669, 3, 131072, 393205, 3, 131072, 458741, 3, 131072, 524277, 3, 131072, 589813, 3, 131072, 655349, 3, 131072, 720885, 3, 131072, 786421, 3, 131072, 524276, 3, 131072, 589812, 3, 131072, 655348, 3, 131072, 720884, 3, 131072, 851957, 3, 131072, 917494, 3, 131072, 983030, 3, 131072, 1048567, 3, 131072, 1114103, 3, 131072, 1114104, 3, 131072, 983031, 3, 131072, 1179640, 3, 131072, 1245176, 3, 131072, 1310712, 3, 131072, 1376248, 3, 131072, 1245177, 3, 131072, 1310713, 3, 131072, 1376249, 3, 131072, 1441785, 3, 131072, 589820, 3, 327680, 589817, 3, 327680, 851975, 3, 327680, 851972, 3, 327680, 851978, 3, 327680)
layer_3/name = "Props"
layer_3/enabled = true
layer_3/modulate = Color(1, 1, 1, 1)
layer_3/y_sort_enabled = false
layer_3/y_sort_origin = 0
layer_3/z_index = 0
layer_3/tile_data = PackedInt32Array(327681, 3, 524288, 458751, 3, 589824, 524289, 3, 589824, 327683, 3, 589824, 1835013, 3, 655360, 1507325, 3, 655360, 1, 3, 458752)

[node name="StaticBody2D" type="StaticBody2D" parent="."]

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="StaticBody2D"]
polygon = PackedVector2Array(-507, 567, -123, 561, -119, 485, -515, 473, -551, 337, -531, 132, -343, -52, -109, -77, 331, -119, 401, -67, 519, -61, 589, 5, 651, 203, 717, 309, 741, 379, 701, 693, 193, 785, 173, 865, 615, 867, 437, 1161, 447, 1535, 447, 1579, 525, 1621, 503, 2017, 421, 2193, 309, 2283, -11, 2295, -95, 2231, -239, 2121, -285, 1983, -247, 1821, -239, 1357, -181, 1285, -207, 1163, -407, 871, -443, 773, -509, 572, -649, 609, -648, 2372, 413, 2485, 882, 2233, 916, -106, 424, -454, -498, -369, -877, -7, -823, 287)

[node name="Node2D" type="Node2D" parent="."]

[node name="EnemyAttractor" type="Node2D" parent="." groups=["enemy_flag"]]
position = Vector2(107, 367)
