[gd_scene load_steps=10 format=3 uid="uid://ewksvpbkgcn3"]

[ext_resource type="Script" path="res://scenes/game/levels/level_controller.gd" id="1_pjyni"]
[ext_resource type="PackedScene" uid="uid://4nsy5ttwkk8o" path="res://scenes/game/characters/player/player.tscn" id="2_nvnwd"]
[ext_resource type="Resource" uid="uid://dovs56t8nh0eh" path="res://assets/resources/spells/summon_skeletons.tres" id="3_0cfq8"]
[ext_resource type="Resource" uid="uid://cl00i5pr4hwiy" path="res://assets/resources/spells/reclaim.tres" id="4_w48a6"]
[ext_resource type="Resource" uid="uid://is0b6s0b1gen" path="res://assets/resources/spells/fuse.tres" id="5_0px2g"]
[ext_resource type="TileSet" uid="uid://defs1a6w50rio" path="res://assets/resources/tilesets/terain_tileset.tres" id="6_xrsbv"]

[sub_resource type="Gradient" id="Gradient_8a4vu"]
colors = PackedColorArray(0.621094, 0.621094, 0.621094, 1, 1, 1, 1, 1)

[sub_resource type="FastNoiseLite" id="FastNoiseLite_fkviw"]

[sub_resource type="NoiseTexture2D" id="NoiseTexture2D_x0jvt"]
seamless = true
color_ramp = SubResource("Gradient_8a4vu")
noise = SubResource("FastNoiseLite_fkviw")

[node name="TestLevel" type="Node2D"]
y_sort_enabled = true
script = ExtResource("1_pjyni")

[node name="Player" parent="." instance=ExtResource("2_nvnwd")]
position = Vector2(215, 325)
debug_mode = true
spells = Array[Resource("res://assets/resources/types/spell_type.gd")]([ExtResource("3_0cfq8"), ExtResource("4_w48a6"), ExtResource("5_0px2g")])

[node name="Polygon2D2" type="Polygon2D" parent="."]
z_index = -10
color = Color(0.0784314, 0, 0.0745098, 1)
polygon = PackedVector2Array(-1350, -802, 3481, -1413, 6038, -485, 5144, 2852, 3594, 3712, -433, 3961, -909, 2626, -1293, 816)

[node name="Polygon2D" type="Polygon2D" parent="."]
z_index = -2
texture_repeat = 2
color = Color(0.541176, 0.478431, 0.356863, 1)
texture = SubResource("NoiseTexture2D_x0jvt")
polygon = PackedVector2Array(78, 504, -2, 264, 40, 51, 233, 19, 489, 73, 763, 80, 864, 192, 1277, 194, 1493, 280, 1719, 396, 1823, 673, 1948, 830, 1964, 1072, 1917, 1207, 1748, 1415, 1693, 1525, 1601, 1667, 1364, 1665, 1004, 1652, 883, 1498, 845, 1343, 883, 1167, 864, 1013, 875, 892, 692, 807, 557, 750, 292, 703, 161, 644)

[node name="TileMap" type="TileMap" parent="."]
y_sort_enabled = true
tile_set = ExtResource("6_xrsbv")
format = 2
layer_0/name = "Floor"
layer_0/tile_data = PackedInt32Array(262150, 65537, 1, 262148, 65537, 0, 262149, 262145, 1, 262147, 1, 0, 327683, 1, 2, 327684, 65537, 2, 393221, 1, 2, 393222, 262145, 0, 393223, 65537, 1, 327686, 65537, 1, 327685, 262145, 0, 262151, 65537, 1, 393225, 65537, 1, 262153, 65537, 1, 262152, 65537, 1, 262154, 65537, 1, 393226, 65537, 1, 458759, 65537, 1, 458760, 65537, 1, 458761, 65537, 1, 458762, 65537, 1, 458758, 1, 1, 524297, 65537, 2, 524296, 65537, 2, 524298, 65537, 2, 458763, 65537, 1, 458764, 65537, 1, 393228, 65537, 1, 393227, 65537, 1, 524299, 262145, 0, 524300, 65537, 1, 524295, 65537, 2, 524294, 1, 2, 393224, 65537, 1, 458765, 65537, 1, 393229, 65537, 1, 196615, 65537, 0, 196617, 65537, 0, 196616, 65537, 0, 196618, 65537, 0, 196614, 65537, 0, 196613, 1, 0, 262155, 65537, 1, 327691, 65537, 1, 327692, 65537, 1, 262156, 196609, 1, 196619, 65537, 0, 196620, 131073, 0, 327693, 196609, 1, 262157, 65537, 0, 327689, 65537, 1, 327688, 65537, 1, 327690, 65537, 1, 327687, 65537, 1, 524301, 65537, 1, 524302, 65537, 1, 524303, 65537, 1, 524304, 65537, 1, 589842, 65537, 2, 524305, 65537, 1, 589843, 65537, 2, 589844, 65537, 2, 524309, 131073, 1, 458770, 65537, 1, 458771, 196609, 1, 524308, 65537, 1, 458769, 65537, 1, 458768, 65537, 1, 458767, 65537, 1, 458766, 65537, 1, 524306, 65537, 1, 524307, 65537, 1, 458772, 65537, 0, 393234, 65537, 0, 393232, 196609, 1, 393233, 65537, 0, 393230, 65537, 1, 393231, 65537, 1, 589835, 1, 2, 589841, 65537, 2, 589840, 65537, 2, 589839, 65537, 2, 589838, 65537, 2, 589837, 65537, 2, 589836, 65537, 2, 327694, 65537, 0, 327695, 65537, 0, 327696, 131073, 0, 393235, 131073, 0, 917531, 1, 1, 983067, 1, 1, 983068, 196609, 0, 917532, 65537, 1, 851997, 131073, 0, 851996, 65537, 0, 983069, 131073, 2, 917533, 131073, 1, 851995, 1, 0, 1048604, 131073, 2, 1048603, 1, 2, 1179665, 1, 2, 1179666, 262145, 0, 1245203, 131073, 2, 1179667, 196609, 0, 1114130, 65537, 0, 1114131, 65537, 0, 1245202, 1, 2, 1179668, 131073, 2, 1114132, 131073, 0, 1114129, 1, 0, 1572888, 131073, 1, 1572886, 65537, 2, 1572887, 262145, 0, 1507352, 131073, 0, 1507351, 196609, 1, 1507350, 262145, 1, 1507349, 1, 0, 1572885, 1, 2, 720916, 65537, 0, 720917, 131073, 0, 786453, 131073, 2, 786452, 196609, 0, 720915, 65537, 0, 720914, 1, 0, 786450, 1, 2, 786451, 262145, 0, 851988, 131073, 2, 851987, 1, 2)
layer_1/name = "Grass"
layer_1/enabled = true
layer_1/modulate = Color(1, 1, 1, 1)
layer_1/y_sort_enabled = false
layer_1/y_sort_origin = 0
layer_1/z_index = 0
layer_1/tile_data = PackedInt32Array(720921, 3, 65536, 786457, 3, 65536, 786458, 3, 65536, 786456, 3, 65536, 1048595, 3, 65536, 1114131, 3, 65536, 1114132, 3, 65536, 1114133, 3, 65536, 1048597, 3, 65536, 1048596, 3, 65536, 1179668, 3, 65536, 1179669, 3, 65536, 1245209, 3, 65536, 1179673, 3, 65536, 1114137, 3, 65536, 1114138, 3, 65536, 1179674, 3, 65536, 1114139, 3, 65536, 720908, 3, 65536, 720909, 3, 65536, 720910, 3, 65536, 655374, 3, 65536, 655373, 3, 65536, 786445, 3, 65536, 786446, 3, 65536, 589832, 3, 65536, 655368, 3, 65536, 589826, 3, 65536, 655362, 3, 65536, 655363, 3, 65536, 1310734, 3, 65536, 1310733, 3, 65536, 1376269, 3, 65536, 1245196, 3, 65536, 1310732, 3, 65536)
layer_2/name = "Walls"
layer_2/enabled = true
layer_2/modulate = Color(1, 1, 1, 1)
layer_2/y_sort_enabled = false
layer_2/y_sort_origin = 0
layer_2/z_index = 0
layer_2/tile_data = PackedInt32Array(393237, 3, 131072, 393236, 3, 131072, 327702, 3, 131072, 327701, 3, 131072, 262165, 3, 131072, 262164, 3, 131072, 196627, 3, 131072, 196625, 3, 131072, 262162, 3, 131072, 262161, 3, 131072, 262160, 3, 131072, 262159, 3, 131072, 262158, 3, 131072, 327697, 3, 131072, 327698, 3, 131072, 196623, 3, 131072, 131086, 3, 131072, 65549, 3, 131072, 196622, 3, 262144, 131085, 3, 131072, 131084, 3, 131072, 131083, 3, 131072, 196620, 3, 131072, 196619, 3, 131072, 131081, 3, 131072, 131080, 3, 131072, 65543, 3, 262144, 131078, 3, 262144, 131079, 3, 131072, 65545, 3, 131072, 8, 3, 131072, 7, 3, 131072, 65546, 3, 131072, 11, 3, 131072, 10, 3, 131072, 9, 3, 131072, 5, 3, 131072, 65541, 3, 131072, 65542, 3, 131072, 65539, 3, 131072, 65538, 3, 131072, 65537, 3, 131072, 131073, 3, 131072, 131072, 3, 131072, 131074, 3, 131072, 196607, 3, 131072, 262143, 3, 131072, 327679, 3, 131072, 196608, 3, 131072, 327680, 3, 131072, 4, 3, 131072, -131069, 3, 131072, -131070, 3, 131072, -131071, 3, 131072, 1, 3, 131072, 0, 3, 131072, 65535, 3, 131072, 393216, 3, 131072, 458751, 3, 131072, 524287, 3, 131072, 589823, 3, 131072, 524289, 3, 131072, 524290, 3, 131072, 458754, 3, 131072, 589824, 3, 131072, 524292, 3, 262144, 589826, 3, 262144, 65551, 3, 262144, 655380, 3, 262144, 786444, 3, 262144, 786451, 3, 131072, 720914, 3, 131072, 720913, 3, 131072, 720912, 3, 131072, 786448, 3, 131072, 720911, 3, 131072, 786447, 3, 131072, 655372, 3, 131072, 655371, 3, 131072, 720906, 3, 131072, 786442, 3, 131072, 655373, 3, 131072, 720904, 3, 131072, 786440, 3, 131072, 720903, 3, 131072, 720902, 3, 131072, 720901, 3, 131072, 720900, 3, 131072, 589829, 3, 131072, 589828, 3, 131072, 720898, 3, 131072, 851974, 3, 131072, 786437, 3, 131072, 720897, 3, 131072, 655360, 3, 131072, 786450, 3, 131072, 851985, 3, 131072, 851986, 3, 131072, 917522, 3, 131072, 917523, 3, 131072, 983058, 3, 131072, 983057, 3, 131072, 1048592, 3, 131072, 1114128, 3, 131072, 1179664, 3, 131072, 1179663, 3, 131072, 1179662, 3, 131072, 1245197, 3, 131072, 1310733, 3, 131072, 1376269, 3, 131072, 1441805, 3, 131072, 1245198, 3, 131072, 1507342, 3, 131072, 1572878, 3, 131072, 1638415, 3, 131072, 1703953, 3, 131072, 1703954, 3, 131072, 1703955, 3, 131072, 1703956, 3, 131072, 1703957, 3, 131072, 1769494, 3, 131072, 1769495, 3, 131072, 1703960, 3, 131072, 1703961, 3, 131072, 1638425, 3, 131072, 1572889, 3, 131072, 1572890, 3, 131072, 1507354, 3, 131072, 1441818, 3, 131072, 1376282, 3, 131072, 1310747, 3, 131072, 1310748, 3, 131072, 1245213, 3, 131072, 1179677, 3, 131072, 1179678, 3, 131072, 1114142, 3, 131072, 983070, 3, 131072, 917533, 3, 131072, 851997, 3, 131072, 786460, 3, 131072, 720924, 3, 131072, 720923, 3, 131072, 655387, 3, 131072, 589851, 3, 131072, 524315, 3, 131072, 458778, 3, 131072, 393241, 3, 131072, 393240, 3, 131072, 327703, 3, 131072, 327704, 3, 131072, 458779, 3, 131072, 589852, 3, 131072, 589853, 3, 131072, 524317, 3, 131072, 524316, 3, 131072, 720925, 3, 131072, 786462, 3, 131072, 851999, 3, 131072, 917535, 3, 131072, 1114144, 3, 131072, 1179679, 3, 131072, 1245214, 3, 131072, 1310750, 3, 131072, 1310751, 3, 131072, 1310749, 3, 131072, 1376284, 3, 131072, 1376285, 3, 131072, 1441820, 3, 131072, 1507355, 3, 131072, 1572891, 3, 131072, 1572892, 3, 131072, 1638427, 3, 131072, 1703962, 3, 131072, 1769497, 3, 131072, 1769496, 3, 131072, 1769493, 3, 131072, 1769492, 3, 131072, 1769490, 3, 131072, 1769489, 3, 131072, 1769488, 3, 131072, 1769487, 3, 131072, 1703950, 3, 131072, 1835029, 3, 131072, 1835028, 3, 131072, 1835027, 3, 131072, 1835026, 3, 131072, 1638413, 3, 131072, 1638412, 3, 131072, 1572876, 3, 131072, 1572875, 3, 131072, 1507339, 3, 131072, 1441803, 3, 131072, 1376267, 3, 131072, 1245195, 3, 131072, 1179659, 3, 131072, 1114124, 3, 131072, 1048588, 3, 131072, 983053, 3, 131072, 917517, 3, 131072, 917518, 3, 131072, 983054, 3, 131072, 1048590, 3, 131072, 1048589, 3, 131072, 917519, 3, 131072, 917516, 3, 131072, 851979, 3, 131072, 851978, 3, 131072, 917534, 3, 131072, 1048606, 3, 131072)
layer_3/name = "Props"
layer_3/enabled = true
layer_3/modulate = Color(1, 1, 1, 1)
layer_3/y_sort_enabled = false
layer_3/y_sort_origin = 0
layer_3/z_index = 0
layer_3/tile_data = PackedInt32Array(524308, 3, 196608, 458759, 3, 655360, 1179670, 3, 393216, 1376274, 3, 458752)

[node name="StaticBody2D" type="StaticBody2D" parent="."]

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="StaticBody2D"]
polygon = PackedVector2Array(1, 285, 128, 184, 321, 177, 567, 222, 686, 211, 929, 313, 1135, 338, 1269, 453, 1333, 472, 1421, 429, 1523, 360, 1697, 490, 1697, 690, 1783, 790, 1842, 925, 1914, 973, 1857, 1139, 1697, 1261, 1647, 1434, 1515, 1625, 1134, 1617, 966, 1532, 983, 1254, 1106, 1132, 1275, 947, 1297, 735, 1413, 635, 1318, 609, 1098, 637, 909, 620, 752, 573, 614, 647, 443, 635, 341, 469, 197, 446, 3, 303, -355, 375, -612, 2584, 2001, 3693, 4458, 2111, 3895, -29, 1390, -521, 83, -832)

[node name="Node2D" type="Node2D" parent="."]

[node name="EnemyAttractor" type="Node2D" parent="." groups=["enemy_flag"]]
position = Vector2(1589, 862)

[node name="EnemyAttractor2" type="Node2D" parent="." groups=["enemy_flag"]]
position = Vector2(610, 2002)

[node name="EnemyAttractor3" type="Node2D" parent="." groups=["enemy_flag"]]
position = Vector2(2747, 2006)
